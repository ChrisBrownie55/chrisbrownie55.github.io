<template id='flip-card-template'>
  <article class='flip-card'>
    <input class='flip-card__checkbox' type='checkbox' />
    <figure class='content'>
      <slot>
        <!-- SVG goes in default slot -->
      </slot>
      <figcaption class='content__back'>
        <p class='content-back__years'>
          <!-- Fill with `years` attribute -->
        </p>
        <sup>yrs</sup>
      </figcaption>
    </figure>
    <h4 class='flip-card__name'>
      <!-- Fill with `title` attribute -->
    </h4>
  </article>

  <style>
    .flip-card {
      position: relative;

      width: 100%;
      margin: 0;
    }

    .flip-card__checkbox {
      position: absolute;
      top: 0;
      left: 0;

      width: 100%;
      height: 100%;

      opacity: 0;
      cursor: pointer;
      z-index: 2;
    }

    .flip-card__checkbox:checked+.content {
      transform: rotateY(180deg);
    }

    .content {
      position: relative;

      width: calc(100% - 3rem);
      height: calc(100% - 3rem);
      padding: 1.5rem;
      margin: 0;

      background: #2a2a2a;

      border-radius: 0.15rem;

      transform-style: preserve-3d;
      transition: transform 0.35s ease-in-out;
      will-change: transform;
    }

    svg {
      position: absolute;
      top: 50%;
      left: 50%;

      color: #eee;

      font-family: Roboto, var(--default-fonts);
      text-align: center;

      transform: translate(-50%, -50%);
      backface-visibility: hidden;
      z-index: 1;
    }

    svg>path {
      stroke: none;
      stroke-width: 0;
      stroke-dasharray: none;
    }

    .content__back {
      position: absolute;
      top: 50%;
      left: 50%;

      display: inline-block;
      width: calc(100% - 1rem);
      padding-right: 1rem;

      color: #fff;

      font-size: 3rem;
      font-family: Roboto, var(--default-fonts);
      font-weight: bold;
      text-align: center;

      transform: rotateY(180deg) translate(50%, -50%);
      backface-visibility: hidden;
      z-index: 1;
    }

    .content__back>sup {
      position: absolute;
      font-size: 1rem;
      transform: translate(0.25rem, -0.125rem);
    }
  </style>
</template>

<script>
  class FlipCard extends HTMLElement {
    constructor() {
      super()

      const template = document.currentScript.ownerDocument.getElementById('flip-card-template')

      const shadowRoot = this.attachShadow({ mode: 'open' })
      shadowRoot.appendChild(template.content.cloneNode(true))
    }

    static get observedAttributes() {
      return ['title', 'years']
    }

    attributeChangedCallback(name, oldValue, newValue) {
      this[name] = newValue
    }

    set title(value) {
      this.shadowRoot.querySelector('.flip-card__name').textContent = value
    }

    set years(value) {
      this.shadowRoot.querySelector('.content-back__years').textContent = value
    }
  }

  customElements.define('flip-card', FlipCard)
</script>